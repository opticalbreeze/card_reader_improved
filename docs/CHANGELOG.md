# 変更履歴

このファイルには、プロジェクトの主要な変更履歴を記録します。

---

## 2024年 - リファクタリングとコードクリーンアップ

### コードのリファクタリング

- **共通モジュールの作成**
  - `constants.py`: ハードコーディングされた値を定数化
  - `common_utils.py`: 重複関数を統合

- **重複コードの削除**
  - `get_mac_address()`: pi_client.pyとwin_client.pyで重複していた関数を統合
  - `load_config()`: 3ファイルで重複していた設定読み込みを統合
  - `send_attendance_to_server()`: サーバー送信ロジックを統一

- **ハードコーディングの解消**
  - IPアドレス、ポート番号を定数化
  - タイムアウト値を定数化
  - メッセージ文字列を定数化

### コードクリーンアップ

- **テストファイルの削除**
  - `test_led.py`: LED動作テストスクリプト
  - `test_pcsc_manual_vs_service.py`: PC/SCアクセステストスクリプト

- **TODOコメントとコメントアウトコードの削除**
  - カタカナ表示に関するTODOコメント9箇所を削除
  - コメントアウトされたカタカナ変換コード約60行を削除

---

## 2024年 - Windows GUI改善版

### 機能追加

- **MACアドレスベースの端末ID自動取得**
- **リトライカウント機能**
- **ログクリアボタン**
- **詳細な統計情報表示**

### 改善内容

- **docstring追加**: 全関数・クラスに詳細な説明を追加
- **コメント充実**: セクション分け、処理の意図を明記
- **エラー処理強化**: エラー種別ごとの処理を追加

---

## 2024年 - 自動起動機能の追加

### Raspberry Pi版

- **systemdサービス対応**
- **自動起動設定**
- **環境変数の適切な設定**

### Windows版

- **スタートアップフォルダ対応**
- **スリープ復帰時のリーダー再検出機能**

---

## 2024年 - 初期リリース

### 基本機能

- ICカードの読み取り（Mifare、FeliCa等に対応）
- サーバーへの打刻データ送信
- 送信失敗時のローカルキャッシュ保存
- 自動リトライ機能
- Web画面での検索・CSV出力
- マルチリーダー対応

### 対応プラットフォーム

- Windows（GUI版・CUI版）
- Raspberry Pi（統合版：LCD + GPIO + nfcpy/PC/SC）

